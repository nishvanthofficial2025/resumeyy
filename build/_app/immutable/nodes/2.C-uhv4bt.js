import"../chunks/DsnmJJEf.js";import{i as zt}from"../chunks/CR7ZIi8w.js";import{o as $,p as gt,n as wt,W as t,ar as xt,B as Et,H as At,C as We,D as Ue,F as Ne,z as pe,ag as St,ak as kt,w as Ce,J as Tt,I as ve,ao as tt,i as qe,G as Nt,as as R,at as Ke,au as Pt,K as at,L as Ot,av as Rt,aw as Pe,y as rt,ax as Dt,ay as Mt,ai as Ct,az as It,an as qt,aA as Lt,ae as Ht,aB as lt,aC as Ft,aD as Gt,aE as Jt,v as Yt,aF as jt,e as Vt,aG as Bt,aH as Wt,a4 as Ut,a2 as G,a8 as f,a0 as Xe,a3 as oe,a1 as T,a5 as Kt,a6 as h,a7 as y,aI as _,aJ as ye,aK as ze,aL as ge,aM as Xt,aN as we,_ as Qt}from"../chunks/CKM3c8Xd.js";import{e as I,s as xe}from"../chunks/AatUgrIp.js";import{i as V}from"../chunks/D0FU0N8E.js";import{s as Zt,r as le}from"../chunks/BQCSNF9j.js";function $t(e,r,a){for(var i=e.items,o=[],n=r.length,s=0;s<n;s++)It(r[s].e,o,!0);var b=n>0&&o.length===0&&a!==null;if(b){var m=a.parentNode;qt(m),m.append(a),i.clear(),U(e,r[0].prev,r[n-1].next)}Lt(o,()=>{for(var N=0;N<n;N++){var k=r[N];b||(i.delete(k.k),U(e,k.prev,k.next)),rt(k.e,!b)}})}function Qe(e,r,a,i,o,n=null){var s=e,b={flags:r,items:new Map,first:null};$&&gt();var m=null,N=!1,k=new Map,W=xt(()=>{var c=a();return qe(c)?c:c==null?[]:tt(c)}),d,w;function u(){ea(w,d,b,k,s,o,r,i,a),n!==null&&(d.length===0?m?at(m):m=Ce(()=>n(s)):m!==null&&Ot(m,()=>{m=null}))}wt(()=>{w??=Ht,d=t(W);var c=d.length;if(N&&c===0)return;N=c===0;let A=!1;if($){var J=Et(s)===At;J!==(c===0)&&(s=We(),Ue(s),Ne(!1),A=!0)}if($){for(var z=null,g,x=0;x<c;x++){if(pe.nodeType===St&&pe.data===kt){s=pe,A=!0,Ne(!1);break}var D=d[x],q=i(D,x);g=Ie(pe,b,z,null,D,q,x,o,r,a),b.items.set(q,g),z=g}c>0&&Ue(We())}if($)c===0&&n&&(m=Ce(()=>n(s)));else if(Tt()){var ee=new Set,K=ve;for(x=0;x<c;x+=1){D=d[x],q=i(D,x);var L=b.items.get(q)??k.get(q);L?st(L,D,x):(g=Ie(null,b,null,null,D,q,x,o,r,a,!0),k.set(q,g)),ee.add(q)}for(const[se,ae]of b.items)ee.has(se)||K.skipped_effects.add(ae.e);K.add_callback(u)}else u();A&&Ne(!0),t(W)}),$&&(s=pe)}function ea(e,r,a,i,o,n,s,b,m){var N=r.length,k=a.items,W=a.first,d=W,w,u=null,c=[],A=[],J,z,g,x;for(x=0;x<N;x+=1){if(J=r[x],z=b(J,x),g=k.get(z),g===void 0){var D=i.get(z);if(D!==void 0){i.delete(z),k.set(z,D);var q=u?u.next:d;U(a,u,D),U(a,D,q),Oe(D,q,o),u=D}else{var ee=d?d.e.nodes_start:o;u=Ie(ee,a,u,u===null?a.first:u.next,J,z,x,n,s,m)}k.set(z,u),c=[],A=[],d=u.next;continue}if(st(g,J,x),(g.e.f&Pe)!==0&&at(g.e),g!==d){if(w!==void 0&&w.has(g)){if(c.length<A.length){var K=A[0],L;u=K.prev;var se=c[0],ae=c[c.length-1];for(L=0;L<c.length;L+=1)Oe(c[L],K,o);for(L=0;L<A.length;L+=1)w.delete(A[L]);U(a,se.prev,ae.next),U(a,u,se),U(a,ae,K),d=K,u=ae,x-=1,c=[],A=[]}else w.delete(g),Oe(g,d,o),U(a,g.prev,g.next),U(a,g,u===null?a.first:u.next),U(a,u,g),u=g;continue}for(c=[],A=[];d!==null&&d.k!==z;)(d.e.f&Pe)===0&&(w??=new Set).add(d),A.push(d),d=d.next;if(d===null)continue;g=d}c.push(g),u=g,d=g.next}if(d!==null||w!==void 0){for(var ie=w===void 0?[]:tt(w);d!==null;)(d.e.f&Pe)===0&&ie.push(d),d=d.next;var ue=ie.length;if(ue>0){var ce=null;$t(a,ie,ce)}}e.first=a.first&&a.first.e,e.last=u&&u.e;for(var de of i.values())rt(de.e);i.clear()}function st(e,r,a,i){Pt(e.v,r),e.i=a}function Ie(e,r,a,i,o,n,s,b,m,N,k){var W=(m&Dt)!==0,d=(m&Mt)===0,w=W?d?R(o,!1,!1):Ke(o):o,u=(m&Rt)===0?s:Ke(s),c={i:u,v:w,k:n,a:null,e:null,prev:a,next:i};try{if(e===null){var A=document.createDocumentFragment();A.append(e=Nt())}return c.e=Ce(()=>b(e,w,u,N),$),c.e.prev=a&&a.e,c.e.next=i&&i.e,a===null?k||(r.first=c):(a.next=c,a.e.next=c.e),i!==null&&(i.prev=c,i.e.prev=c.e),c}finally{}}function Oe(e,r,a){for(var i=e.next?e.next.e.nodes_start:a,o=r?r.e.nodes_start:a,n=e.e.nodes_start;n!==null&&n!==i;){var s=Ct(n);o.before(n),n=s}}function U(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}const Ze=[...` 	
\r\fÂ \v\uFEFF`];function ta(e,r,a){var i=e==null?"":""+e;if(a){for(var o in a)if(a[o])i=i?i+" "+o:o;else if(i.length)for(var n=o.length,s=0;(s=i.indexOf(o,s))>=0;){var b=s+n;(s===0||Ze.includes(i[s-1]))&&(b===i.length||Ze.includes(i[b]))?i=(s===0?"":i.substring(0,s))+i.substring(b+1):s=b}}return i===""?null:i}function Re(e,r,a,i,o,n){var s=e.__className;if($||s!==a||s===void 0){var b=ta(a,i,n);(!$||b!==e.getAttribute("class"))&&(b==null?e.removeAttribute("class"):e.className=b),e.__className=a}else if(n&&o!==n)for(var m in n){var N=!!n[m];(o==null||N!==!!o[m])&&e.classList.toggle(m,N)}return n}function it(e,r,a=!1){if(e.multiple){if(r==null)return;if(!qe(r))return Gt();for(var i of e.options)i.selected=r.includes(_e(i));return}for(i of e.options){var o=_e(i);if(Jt(o,r)){i.selected=!0;return}}(!a||r!==void 0)&&(e.selectedIndex=-1)}function aa(e){var r=new MutationObserver(()=>{it(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Yt(()=>{r.disconnect()})}function ra(e,r,a=r){var i=!0;lt(e,"change",o=>{var n=o?"[selected]":":checked",s;if(e.multiple)s=[].map.call(e.querySelectorAll(n),_e);else{var b=e.querySelector(n)??e.querySelector("option:not([disabled])");s=b&&_e(b)}a(s)}),Ft(()=>{var o=r();if(it(e,o,i),i&&o===void 0){var n=e.querySelector(":checked");n!==null&&(o=_e(n),a(o))}e.__value=o,i=!1}),aa(e)}function _e(e){return"__value"in e?e.__value:e.value}function B(e,r,a=r){var i=jt(),o=new WeakSet;lt(e,"input",n=>{var s=n?e.defaultValue:e.value;if(s=De(e)?Me(s):s,a(s),ve!==null&&o.add(ve),i&&s!==(s=r())){var b=e.selectionStart,m=e.selectionEnd;e.value=s??"",m!==null&&(e.selectionStart=b,e.selectionEnd=Math.min(m,e.value.length))}}),($&&e.defaultValue!==e.value||Vt(r)==null&&e.value)&&(a(De(e)?Me(e.value):e.value),ve!==null&&o.add(ve)),Bt(()=>{var n=r();if(e===document.activeElement){var s=Wt??ve;if(o.has(s))return}De(e)&&n===Me(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function De(e){var r=e.type;return r==="number"||r==="range"}function Me(e){return e===""?null:+e}function la(e){return function(...r){var a=r[0];return a.stopPropagation(),e?.apply(this,r)}}function $e(e){return function(...r){var a=r[0];return a.preventDefault(),e?.apply(this,r)}}function et(e,r){var a=e.$$events?.[r.type],i=qe(a)?a.slice():a==null?[]:[a];for(var o of i)o.call(this,r)}var sa=G('<button class="btn-remove svelte-z7b8u0">X</button>'),ia=G('<div class="dynamic-entry svelte-z7b8u0"><input type="text" placeholder="Job Title" class="svelte-z7b8u0"/> <input type="text" placeholder="Company" class="svelte-z7b8u0"/> <textarea placeholder="Responsibilities..." class="svelte-z7b8u0"></textarea> <!></div>'),na=G('<div class="form-container svelte-z7b8u0"><h2 class="svelte-z7b8u0">Your Professional Data</h2> <form><fieldset class="svelte-z7b8u0"><legend class="svelte-z7b8u0">Personal Details</legend> <input type="text" placeholder="Full Name" class="svelte-z7b8u0"/> <input type="email" placeholder="Email Address" class="svelte-z7b8u0"/> <textarea placeholder="Professional Summary..." class="svelte-z7b8u0"></textarea></fieldset> <fieldset class="svelte-z7b8u0"><legend class="svelte-z7b8u0">Work Experience</legend> <!> <button class="btn-add svelte-z7b8u0">+ Add Experience</button></fieldset> <fieldset class="svelte-z7b8u0"><legend class="svelte-z7b8u0">Skills</legend> <textarea placeholder="Skills (comma-separated)..." class="svelte-z7b8u0"></textarea></fieldset></form></div>'),oa=G('<div class="empty-state svelte-z7b8u0"><span>Your portfolio is empty.</span></div>'),va=G('<div class="achievement-card svelte-z7b8u0"><div class="card-content"><div class="card-header svelte-z7b8u0"><span class="card-type svelte-z7b8u0"> </span></div> <h3 class="card-title svelte-z7b8u0"> </h3></div> <div class="card-actions svelte-z7b8u0"><button class="btn-icon svelte-z7b8u0">Edit</button> <button class="btn-icon btn-remove-action svelte-z7b8u0">Remove</button></div></div>'),ua=G('<div class="portfolio-actions svelte-z7b8u0"><button class="cta-button svelte-z7b8u0"><!></button></div>'),ca=G('<div class="portfolio-container svelte-z7b8u0"><div class="portfolio-header svelte-z7b8u0"><h2 class="svelte-z7b8u0">My Achievements</h2> <button class="cta-button-small svelte-z7b8u0">+ Add New</button></div> <div class="achievements-list svelte-z7b8u0"><!></div> <!></div>'),da=G('<div class="loader svelte-z7b8u0"></div>'),fa=G('<div class="message-area error svelte-z7b8u0"> </div>'),ba=G('<p class="placeholder-text svelte-z7b8u0">Your tailored resume will appear here...</p>'),pa=G('<input type="text" placeholder="Enter custom category name" required class="svelte-z7b8u0"/>'),_a=G('<div class="modal-backdrop svelte-z7b8u0"><div class="modal-content svelte-z7b8u0"><h2 class="svelte-z7b8u0"> </h2> <form><label for="ach-type" class="svelte-z7b8u0">Type</label> <select id="ach-type" class="svelte-z7b8u0"><option>Project</option><option>Certification</option><option>Internship</option><option>Skill</option><option>Award</option><option>Other...</option></select> <!> <label for="ach-title" class="svelte-z7b8u0">Title</label> <input type="text" id="ach-title" placeholder="e.g., AWS Certified Cloud Practitioner" required class="svelte-z7b8u0"/> <label for="ach-desc" class="svelte-z7b8u0">Description</label> <textarea id="ach-desc" placeholder="Describe what you did and the outcome..." class="svelte-z7b8u0"></textarea> <div class="modal-actions svelte-z7b8u0"><button type="button" class="btn-secondary svelte-z7b8u0">Cancel</button> <button type="submit" class="cta-button svelte-z7b8u0">Save</button></div></form></div></div>'),ma=G('<div class="background-effects svelte-z7b8u0"><div class="shape shape-1 svelte-z7b8u0"></div> <div class="shape shape-2 svelte-z7b8u0"></div></div> <header class="page-header svelte-z7b8u0"><h1 class="svelte-z7b8u0">AI Powered <span class="text-gradient svelte-z7b8u0">Resume Hub</span></h1> <p class="svelte-z7b8u0">Generate a resume instantly or build a long-term career portfolio.</p></header> <main class="main-container svelte-z7b8u0"><div class="input-container svelte-z7b8u0"><div class="tab-switcher svelte-z7b8u0"><button>Quick Resume</button> <button>My Portfolio</button></div> <!></div> <div class="output-container svelte-z7b8u0"><h2 class="svelte-z7b8u0">Generate Your Resume</h2> <div class="controls svelte-z7b8u0"><input type="text" placeholder="Enter Target Job Role" required class="svelte-z7b8u0"/> <button class="cta-button svelte-z7b8u0"><!></button></div> <div class="resume-output-container svelte-z7b8u0"><!> <!> <iframe title="Generated Resume"></iframe> <!></div></div></main> <!>',1);function Ea(e,r){Ut(r,!1);const a="https://n8n-oregon.onrender.com/webhook/b259f62f-c353-4667-945b-fd8cf4fc4d3a",i="https://n8n-oregon.onrender.com/webhook-test/6d81d864-26b8-4ada-9cab-23c1d7640dd0";let o=R(""),n=R(!1),s=R(""),b=R(""),m=R("quick"),N=R(""),k=R(""),W=R(""),d=R(""),w=R([{id:Date.now(),job_title:"",company:"",responsibilities:""}]),u=R([]),c=R(!1),A=R(!1),J=R(!1),z=R({});function g(){_(w,[...t(w),{id:Date.now(),job_title:"",company:"",responsibilities:""}])}function x(l){_(w,t(w).filter(v=>v.id!==l))}function D(){_(A,!1),_(z,{id:Date.now(),type:"Project",title:"",description:"",customType:""}),_(c,!0)}function q(l){_(A,!0);const p=!["Project","Certification","Internship","Skill","Award"].includes(l.type);_(z,{...l,type:p?"Other":l.type,customType:p?l.type:""}),_(c,!0)}function ee(){_(c,!1)}function K(){if(!t(z).title)return;let l={...t(z)};l.type==="Other"&&l.customType&&(l.type=l.customType.trim()),delete l.customType,t(A)?_(u,t(u).map(v=>v.id===l.id?l:v)):_(u,[...t(u),l]),ee()}function L(l){confirm("Are you sure you want to remove this achievement?")&&_(u,t(u).filter(v=>v.id!==l))}async function se(){if(t(u).length===0){alert("Your portfolio is empty.");return}if(confirm("This will save your current portfolio to the database. Proceed?")){_(J,!0);const l=t(u).map(({id:v,...p})=>p);console.log("ð Saving portfolio to backend:",JSON.stringify({achievements:l},null,2));try{const v=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({achievements:l})});if(!v.ok)throw new Error(`Server responded with an error: ${v.status}`);alert("Portfolio saved successfully!")}catch(v){console.error("â Save Failed:",v),alert(`An error occurred while saving: ${v.message}`)}finally{_(J,!1)}}}async function ae(){if(_(n,!0),_(s,""),_(b,""),!t(o).trim()){_(s,"Please enter a target job role."),_(n,!1);return}let l;if(t(m)==="quick")l={personal_details:{fullName:t(N),email:t(k),summary:t(W)},experience:t(w).filter(p=>p.job_title).map(({id:p,...H})=>H),skills:t(d).split(",").map(p=>p.trim()).filter(Boolean)};else{if(t(u).length===0){_(s,"Please add at least one achievement to your portfolio."),_(n,!1);return}l={achievements:t(u).map(({id:p,...H})=>H)}}const v={job_role:t(o),resume_data:l};console.log(`â Sending payload for "${t(m)}" mode:`,JSON.stringify(v,null,2));try{const p=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!p.ok)throw new Error(`Server responded with an error: ${p.status}`);_(b,await p.text()),t(b)||_(s,"The AI returned an empty response. Please try again.")}catch(p){console.error("â Fetch Error:",p),_(s,`An error occurred: ${p.message}.`)}finally{_(n,!1)}}zt();var ie=ma(),ue=f(Xe(ie),4),ce=h(ue),de=h(ce),Ee=h(de);let Le;var He=f(Ee,2);let Fe;y(de);var nt=f(de,2);{var ot=l=>{var v=na(),p=f(h(v),2),H=h(p),X=f(h(H),2);le(X);var Q=f(X,2);le(Q);var Z=f(Q,2);ye(Z),y(H);var te=f(H,2),re=f(h(te),2);Qe(re,1,()=>t(w),E=>E.id,(E,C,S)=>{var F=ia(),O=h(F);le(O);var Y=f(O,2);le(Y);var ne=f(Y,2);ye(ne);var Te=f(ne,2);{var he=j=>{var be=sa();I("click",be,()=>x(t(C).id)),T(j,be)};V(Te,j=>{t(w).length>1&&j(he)})}y(F),B(O,()=>t(C).job_title,j=>(t(C).job_title=j,ge(()=>t(w)))),B(Y,()=>t(C).company,j=>(t(C).company=j,ge(()=>t(w)))),B(ne,()=>t(C).responsibilities,j=>(t(C).responsibilities=j,ge(()=>t(w)))),T(E,F)});var fe=f(re,2);y(te);var P=f(te,2),M=f(h(P),2);ye(M),y(P),y(p),y(v),B(X,()=>t(N),E=>_(N,E)),B(Q,()=>t(k),E=>_(k,E)),B(Z,()=>t(W),E=>_(W,E)),I("click",fe,g),B(M,()=>t(d),E=>_(d,E)),I("submit",p,$e(function(E){et.call(this,r,E)})),T(l,v)},vt=l=>{var v=ca(),p=h(v),H=f(h(p),2);y(p);var X=f(p,2),Q=h(X);{var Z=P=>{var M=oa();T(P,M)},te=P=>{var M=Qt(),E=Xe(M);Qe(E,1,()=>t(u),C=>C.id,(C,S)=>{var F=va(),O=h(F),Y=h(O),ne=h(Y),Te=h(ne,!0);y(ne),y(Y);var he=f(Y,2),j=h(he,!0);y(he),y(O);var be=f(O,2),Be=h(be),yt=f(Be,2);y(be),y(F),oe(()=>{xe(Te,t(S).type),xe(j,t(S).title)}),I("click",Be,()=>q(t(S))),I("click",yt,()=>L(t(S).id)),T(C,F)}),T(P,M)};V(Q,P=>{t(u).length===0?P(Z):P(te,!1)})}y(X);var re=f(X,2);{var fe=P=>{var M=ua(),E=h(M),C=h(E);{var S=O=>{var Y=ze("Saving...");T(O,Y)},F=O=>{var Y=ze("Save Portfolio to Cloud â");T(O,Y)};V(C,O=>{t(J)?O(S):O(F,!1)})}y(E),y(M),oe(()=>E.disabled=t(J)),I("click",E,se),T(P,M)};V(re,P=>{t(u).length>0&&P(fe)})}y(v),I("click",H,D),T(l,v)};V(nt,l=>{t(m)==="quick"?l(ot):l(vt,!1)})}y(ce);var Ge=f(ce,2),Ae=f(h(Ge),2),Se=h(Ae);le(Se);var me=f(Se,2),ut=h(me);{var ct=l=>{var v=ze("Generating...");T(l,v)},dt=l=>{var v=ze("Generate Resume â");T(l,v)};V(ut,l=>{t(n)?l(ct):l(dt,!1)})}y(me),y(Ae);var Je=f(Ae,2),Ye=h(Je);{var ft=l=>{var v=da();T(l,v)};V(Ye,l=>{t(n)&&l(ft)})}var je=f(Ye,2);{var bt=l=>{var v=fa(),p=h(v,!0);y(v),oe(()=>xe(p,t(s))),T(l,v)};V(je,l=>{t(s)&&l(bt)})}var ke=f(je,2);let Ve;var pt=f(ke,2);{var _t=l=>{var v=ba();T(l,v)};V(pt,l=>{!t(b)&&!t(n)&&!t(s)&&l(_t)})}y(Je),y(Ge),y(ue);var mt=f(ue,2);{var ht=l=>{var v=_a(),p=h(v),H=h(p),X=h(H,!0);y(H);var Q=f(H,2),Z=f(h(Q),2);oe(()=>{t(z),ge(()=>{})});var te=f(h(Z),5);te.value=te.__value="Other",y(Z);var re=f(Z,2);{var fe=S=>{var F=pa();le(F),B(F,()=>t(z).customType,O=>we(z,t(z).customType=O)),T(S,F)};V(re,S=>{t(z).type==="Other"&&S(fe)})}var P=f(re,4);le(P);var M=f(P,4);ye(M);var E=f(M,2),C=h(E);Xt(2),y(E),y(Q),y(p),y(v),oe(()=>xe(X,t(A)?"Edit Achievement":"Add New Achievement")),ra(Z,()=>t(z).type,S=>we(z,t(z).type=S)),B(P,()=>t(z).title,S=>we(z,t(z).title=S)),B(M,()=>t(z).description,S=>we(z,t(z).description=S)),I("click",C,ee),I("submit",Q,$e(K)),I("click",p,la(function(S){et.call(this,r,S)})),I("click",v,ee),T(l,v)};V(mt,l=>{t(c)&&l(ht)})}oe((l,v,p)=>{Le=Re(Ee,1,"tab svelte-z7b8u0",null,Le,l),Fe=Re(He,1,"tab svelte-z7b8u0",null,Fe,v),me.disabled=t(n),Ve=Re(ke,1,"resume-frame svelte-z7b8u0",null,Ve,p),Zt(ke,"srcdoc",t(b))},[()=>({active:t(m)==="quick"}),()=>({active:t(m)==="portfolio"}),()=>({hidden:!t(b)||t(n)||t(s)})]),I("click",Ee,()=>_(m,"quick")),I("click",He,()=>_(m,"portfolio")),B(Se,()=>t(o),l=>_(o,l)),I("click",me,ae),T(e,ie),Kt()}export{Ea as component};
