import"../chunks/DsnmJJEf.js";import{i as Be}from"../chunks/72RYts9-.js";import{n as Ge,o as H,p as Le,W as n,ar as Fe,B as Je,H as Ye,C as pe,D as be,F as te,z as q,ag as Ve,ak as We,w as oe,J as je,I as V,as as $e,G as qe,at as C,au as ge,ao as we,i as Ne,av as ze,K as Te,L as Ke,aw as Ue,ax as Xe,ay as le,y as Ae,ai as Qe,az as Ze,an as ea,aA as aa,ae as ra,aB as ta,aC as la,e as sa,aD as na,aE as ia,a4 as va,a2 as W,a8 as g,a0 as fa,a3 as ye,a1 as G,a5 as oa,a6 as D,aF as se,a7 as I,aG as w,aH as ne,aI as Ee}from"../chunks/rH1fiOnd.js";import{e as X,s as da}from"../chunks/BH73CXw6.js";import{i as z}from"../chunks/xUF6KS2x.js";import{s as ua,r as K}from"../chunks/BWA6XEIv.js";function ca(e,r,a){for(var t=e.items,v=[],i=r.length,l=0;l<i;l++)Ze(r[l].e,v,!0);var c=i>0&&v.length===0&&a!==null;if(c){var o=a.parentNode;ea(o),o.append(a),t.clear(),M(e,r[0].prev,r[i-1].next)}aa(v,()=>{for(var b=0;b<i;b++){var p=r[b];c||(t.delete(p.k),M(e,p.prev,p.next)),Ae(p.e,!c)}})}function _a(e,r,a,t,v,i=null){var l=e,c={flags:r,items:new Map,first:null};H&&Le();var o=null,b=!1,p=new Map,A=Fe(()=>{var f=a();return Ne(f)?f:f==null?[]:we(f)}),d,x;function _(){ma(x,d,c,p,l,v,r,t,a),i!==null&&(d.length===0?o?Te(o):o=oe(()=>i(l)):o!==null&&Ke(o,()=>{o=null}))}Ge(()=>{x??=ra,d=n(A);var f=d.length;if(b&&f===0)return;b=f===0;let y=!1;if(H){var S=Je(l)===Ye;S!==(f===0)&&(l=pe(),be(l),te(!1),y=!0)}if(H){for(var N=null,m,h=0;h<f;h++){if(q.nodeType===Ve&&q.data===We){l=q,y=!0,te(!1);break}var E=d[h],T=t(E,h);m=de(q,c,N,null,E,T,h,v,r,a),c.items.set(T,m),N=m}f>0&&be(pe())}if(H)f===0&&i&&(o=oe(()=>i(l)));else if(je()){var P=new Set,k=V;for(h=0;h<f;h+=1){E=d[h],T=t(E,h);var R=c.items.get(T)??p.get(T);R?Re(R,E,h):(m=de(null,c,null,null,E,T,h,v,r,a,!0),p.set(T,m)),P.add(T)}for(const[F,B]of c.items)P.has(F)||k.skipped_effects.add(B.e);k.add_callback(_)}else _();y&&te(!0),n(A)}),H&&(l=q)}function ma(e,r,a,t,v,i,l,c,o){var b=r.length,p=a.items,A=a.first,d=A,x,_=null,f=[],y=[],S,N,m,h;for(h=0;h<b;h+=1){if(S=r[h],N=c(S,h),m=p.get(N),m===void 0){var E=t.get(N);if(E!==void 0){t.delete(N),p.set(N,E);var T=_?_.next:d;M(a,_,E),M(a,E,T),ie(E,T,v),_=E}else{var P=d?d.e.nodes_start:v;_=de(P,a,_,_===null?a.first:_.next,S,N,h,i,l,o)}p.set(N,_),f=[],y=[],d=_.next;continue}if(Re(m,S,h),(m.e.f&le)!==0&&Te(m.e),m!==d){if(x!==void 0&&x.has(m)){if(f.length<y.length){var k=y[0],R;_=k.prev;var F=f[0],B=f[f.length-1];for(R=0;R<f.length;R+=1)ie(f[R],k,v);for(R=0;R<y.length;R+=1)x.delete(y[R]);M(a,F.prev,B.next),M(a,_,F),M(a,B,k),d=k,_=B,h-=1,f=[],y=[]}else x.delete(m),ie(m,d,v),M(a,m.prev,m.next),M(a,m,_===null?a.first:_.next),M(a,_,m),_=m;continue}for(f=[],y=[];d!==null&&d.k!==N;)(d.e.f&le)===0&&(x??=new Set).add(d),y.push(d),d=d.next;if(d===null)continue;m=d}f.push(m),_=m,d=m.next}if(d!==null||x!==void 0){for(var J=x===void 0?[]:we(x);d!==null;)(d.e.f&le)===0&&J.push(d),d=d.next;var j=J.length;if(j>0){var $=null;ca(a,J,$)}}e.first=a.first&&a.first.e,e.last=_&&_.e;for(var Y of t.values())Ae(Y.e);t.clear()}function Re(e,r,a,t){$e(e.v,r),e.i=a}function de(e,r,a,t,v,i,l,c,o,b,p){var A=(o&Ue)!==0,d=(o&Xe)===0,x=A?d?C(v,!1,!1):ge(v):v,_=(o&ze)===0?l:ge(l),f={i:_,v:x,k:i,a:null,e:null,prev:a,next:t};try{if(e===null){var y=document.createDocumentFragment();y.append(e=qe())}return f.e=oe(()=>c(e,x,_,b),H),f.e.prev=a&&a.e,f.e.next=t&&t.e,a===null?p||(r.first=f):(a.next=f,a.e.next=f.e),t!==null&&(t.prev=f,t.e.prev=f.e),f}finally{}}function ie(e,r,a){for(var t=e.next?e.next.e.nodes_start:a,v=r?r.e.nodes_start:a,i=e.e.nodes_start;i!==null&&i!==t;){var l=Qe(i);v.before(i),i=l}}function M(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}const xe=[...` 	
\r\f \v\uFEFF`];function ha(e,r,a){var t=""+e;if(a){for(var v in a)if(a[v])t=t?t+" "+v:v;else if(t.length)for(var i=v.length,l=0;(l=t.indexOf(v,l))>=0;){var c=l+i;(l===0||xe.includes(t[l-1]))&&(c===t.length||xe.includes(t[c]))?t=(l===0?"":t.substring(0,l))+t.substring(c+1):l=c}}return t===""?null:t}function pa(e,r,a,t,v,i){var l=e.__className;if(H||l!==a||l===void 0){var c=ha(a,t,i);(!H||c!==e.getAttribute("class"))&&(c==null?e.removeAttribute("class"):e.className=c),e.__className=a}else if(i&&v!==i)for(var o in i){var b=!!i[o];(v==null||b!==!!v[o])&&e.classList.toggle(o,b)}return i}function L(e,r,a=r){var t=ta(),v=new WeakSet;la(e,"input",i=>{var l=i?e.defaultValue:e.value;if(l=ve(e)?fe(l):l,a(l),V!==null&&v.add(V),t&&l!==(l=r())){var c=e.selectionStart,o=e.selectionEnd;e.value=l??"",o!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(o,e.value.length))}}),(H&&e.defaultValue!==e.value||sa(r)==null&&e.value)&&(a(ve(e)?fe(e.value):e.value),V!==null&&v.add(V)),na(()=>{var i=r();if(e===document.activeElement){var l=ia??V;if(v.has(l))return}ve(e)&&i===fe(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function ve(e){var r=e.type;return r==="number"||r==="range"}function fe(e){return e===""?null:+e}function ba(e){return function(...r){var a=r[0];return a.preventDefault(),e?.apply(this,r)}}function ga(e,r){var a=e.$$events?.[r.type],t=Ne(a)?a.slice():a==null?[]:[a];for(var v of t)v.call(this,r)}var ya=W('<button class="btn-remove svelte-11d3fv7">X</button>'),Ea=W('<div class="dynamic-entry svelte-11d3fv7"><input type="text" placeholder="Job Title" class="svelte-11d3fv7"/> <input type="text" placeholder="Company" class="svelte-11d3fv7"/> <textarea placeholder="Responsibilities..." class="svelte-11d3fv7"></textarea> <!></div>'),xa=W('<div class="loader svelte-11d3fv7"></div>'),wa=W('<div class="message-area error svelte-11d3fv7"> </div>'),Na=W('<p class="placeholder-text svelte-11d3fv7">Your tailored resume will appear here...</p>'),Ta=W('<div class="background-effects svelte-11d3fv7"><div class="shape shape-1 svelte-11d3fv7"></div> <div class="shape shape-2 svelte-11d3fv7"></div></div> <header class="page-header svelte-11d3fv7"><h1 class="svelte-11d3fv7">AI Powered <span class="text-gradient svelte-11d3fv7">Resume Builder</span></h1> <p class="svelte-11d3fv7">Enter your professional details, specify a job role, and get a tailored resume in seconds.</p></header> <main class="main-container svelte-11d3fv7"><div class="form-container svelte-11d3fv7"><h2 class="svelte-11d3fv7">Your Professional Data</h2> <form class="svelte-11d3fv7"><fieldset class="svelte-11d3fv7"><legend class="svelte-11d3fv7">Personal Details</legend> <input type="text" placeholder="Full Name" class="svelte-11d3fv7"/> <input type="email" placeholder="Email Address" class="svelte-11d3fv7"/> <textarea placeholder="Professional Summary..." class="svelte-11d3fv7"></textarea></fieldset> <fieldset class="svelte-11d3fv7"><legend class="svelte-11d3fv7">Work Experience</legend> <!> <button class="btn-add svelte-11d3fv7">+ Add Experience</button></fieldset> <fieldset class="svelte-11d3fv7"><legend class="svelte-11d3fv7">Skills</legend> <textarea placeholder="Skills (comma-separated)..." class="svelte-11d3fv7"></textarea></fieldset></form></div> <div class="output-container svelte-11d3fv7"><h2 class="svelte-11d3fv7">Generate Your Resume</h2> <div class="controls svelte-11d3fv7"><input type="text" placeholder="Enter Target Job Role" required class="svelte-11d3fv7"/> <button class="cta-button svelte-11d3fv7"><!></button></div> <div class="resume-output-container svelte-11d3fv7"><!> <!>   <iframe title="Generated Resume"></iframe> <!></div></div></main>',1);function Ca(e,r){va(r,!1);const a="https://n8n-oregon.onrender.com/webhook/b259f62f-c353-4667-945b-fd8cf4fc4d3a";let t=C(""),v=C(""),i=C(""),l=C(""),c=C(""),o=C([{id:1,job_title:"",company:"",responsibilities:""}]),b=C(!1),p=C(""),A=C("");function d(){w(o,[...n(o),{id:Date.now(),job_title:"",company:"",responsibilities:""}])}function x(s){w(o,n(o).filter(u=>u.id!==s))}async function _(){if(w(b,!0),w(p,""),w(A,""),!n(c).trim()){w(p,"Please enter a target job role."),w(b,!1);return}const s={job_role:n(c),resume_data:{personal_details:{fullName:n(t),email:n(v),summary:n(i)},experience:n(o).filter(u=>u.job_title).map(({id:u,...U})=>U),skills:n(l).split(",").map(u=>u.trim()).filter(Boolean)}};console.log("✅ Preparing to send this payload to N8N:",JSON.stringify(s,null,2));try{const u=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!u.ok)throw new Error(`The server responded with an error: ${u.status}`);w(A,await u.text()),n(A)||w(p,"The AI returned an empty response. Please try again or check the N8N workflow logs.")}catch(u){console.error("❌ Fetch Error:",u),w(p,`An error occurred: ${u.message}. Please check the browser console.`)}finally{w(b,!1)}}Be();var f=Ta(),y=g(fa(f),4),S=D(y),N=g(D(S),2),m=D(N),h=g(D(m),2);K(h);var E=g(h,2);K(E);var T=g(E,2);se(T),I(m);var P=g(m,2),k=g(D(P),2);_a(k,1,()=>n(o),s=>s.id,(s,u,U)=>{var Z=Ea(),ee=D(Z);K(ee);var ae=g(ee,2);K(ae);var re=g(ae,2);se(re);var He=g(re,2);{var Pe=O=>{var he=ya();X("click",he,()=>x(n(u).id)),G(O,he)};z(He,O=>{n(o).length>1&&O(Pe)})}I(Z),L(ee,()=>n(u).job_title,O=>(n(u).job_title=O,ne(()=>n(o)))),L(ae,()=>n(u).company,O=>(n(u).company=O,ne(()=>n(o)))),L(re,()=>n(u).responsibilities,O=>(n(u).responsibilities=O,ne(()=>n(o)))),G(s,Z)});var R=g(k,2);I(P);var F=g(P,2),B=g(D(F),2);se(B),I(F),I(N),I(S);var J=g(S,2),j=g(D(J),2),$=D(j);K($);var Y=g($,2),De=D(Y);{var Ie=s=>{var u=Ee("Generating...");G(s,u)},Se=s=>{var u=Ee("Generate Resume →");G(s,u)};z(De,s=>{n(b)?s(Ie):s(Se,!1)})}I(Y),I(j);var ue=g(j,2),ce=D(ue);{var ke=s=>{var u=xa();G(s,u)};z(ce,s=>{n(b)&&s(ke)})}var _e=g(ce,2);{var Ce=s=>{var u=wa(),U=D(u,!0);I(u),ye(()=>da(U,n(p))),G(s,u)};z(_e,s=>{n(p)&&s(Ce)})}var Q=g(_e,2);let me;var Me=g(Q,2);{var Oe=s=>{var u=Na();G(s,u)};z(Me,s=>{!n(A)&&!n(b)&&!n(p)&&s(Oe)})}I(ue),I(J),I(y),ye(s=>{Y.disabled=n(b),me=pa(Q,1,"resume-frame svelte-11d3fv7",null,me,s),ua(Q,"srcdoc",n(A))},[()=>({hidden:!n(A)||n(b)||n(p)})]),L(h,()=>n(t),s=>w(t,s)),L(E,()=>n(v),s=>w(v,s)),L(T,()=>n(i),s=>w(i,s)),X("click",R,d),L(B,()=>n(l),s=>w(l,s)),X("submit",N,ba(function(s){ga.call(this,r,s)})),L($,()=>n(c),s=>w(c,s)),X("click",Y,_),G(e,f),oa()}export{Ca as component};
